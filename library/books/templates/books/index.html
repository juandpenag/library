<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Library!</title>
    </head>
    <body>
        <h1>These are your books!</h1>

        <h3>Add a new book to your library!</h3>

        <form action="{% url 'add' %}" method="POST">
            {% csrf_token %}

            <input type="text" placeholder="Author" id="authorship" name="authorship" required>
            
            <input type="text" placeholder="Title" id="title" name="title" required>
            
            <input type="number" placeholder="Year" id="year" name="year" required>

            <input type="text" placeholder="Publisher" id="publisher" name="publisher" required>

            <select name="category" id="category">
                <option disabled selected>Category</option>
                <option value="">All</option>
                {% for key, display in categories %}
                    <option value="{{ key }}">
                        {{ display }}
                    </option>
                {% endfor %}
            </select>

            <select name="language" id="language">
                <option disabled selected>Language</option>
                <option value="">All</option>
                {% for key, display in languages %}
                    <option value="{{ key }}">
                        {{ display }}
                    </option>
                {% endfor %}
            </select>

            <button type="submit">Submit</button>
        </form>

        <h3>Filters</h3>

        <form action="{% url 'filter' %}" method="GET">

            <select name="authorship" id="authorship">
                <option disabled selected>Author</option>
                <option value="">All</option>
                {% for author in authors_list %}
                    <option value="{{ author }}">
                        {{ author }}
                    </option>
                {% endfor %}
            </select>

            <input type="number" placeholder="Year" id="year" name="year" required>

            <select name="publisher" id="publisher">
                <option disabled selected>Publisher</option>
                <option value="">All</option>
                {% for publisher in publishers_list %}
                    <option value="{{ publisher }}">
                        {{ publisher }}
                    </option>
                {% endfor %}
            </select>

            <select name="category" id="category">
                <option disabled selected>Category</option>
                <option value="">All</option>
                {% for key, display in categories %}
                    <option value="{{ key }}">
                        {{ display }}
                    </option>
                {% endfor %}
            </select>

            <select name="language" id="language">
                <option disabled selected>Language</option>
                <option value="">All</option>
                {% for key, display in languages %}
                    <option value="{{ key }}">
                        {{ display }}
                    </option>
                {% endfor %}
            </select>

            <button type="submit">Filter</button>
        </form>

        <h3>This is your library!</h3>

        <ul>
            {% for book in books %}
            <li>
                {{ book }}
            </li>
            {% empty %}
            <li>
                No books found.
            </li>
            {% endfor %}
        </ul>
    </body>
</html>